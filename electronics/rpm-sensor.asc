Version 4
SHEET 1 1224 1108
WIRE 448 -480 448 -528
WIRE 448 -368 448 -400
WIRE 576 -368 448 -368
WIRE 736 -368 656 -368
WIRE 800 -368 736 -368
WIRE 944 -368 880 -368
WIRE -992 -336 -992 -416
WIRE 736 -304 736 -368
WIRE 736 -192 736 -240
WIRE -992 -160 -992 -256
WIRE 1056 -128 1056 -160
WIRE 1056 -128 992 -128
WIRE 1056 -80 1056 -128
WIRE -96 -16 -96 -128
WIRE 1056 32 1056 -16
WIRE 704 48 624 48
WIRE 992 48 992 -128
WIRE 992 48 928 48
WIRE -96 112 -96 64
WIRE 96 112 -96 112
WIRE 704 112 96 112
WIRE 1184 112 928 112
WIRE -96 144 -96 112
WIRE 448 176 448 -368
WIRE 704 176 448 176
WIRE 1184 176 1184 112
WIRE 1184 176 928 176
WIRE -1184 192 -1664 192
WIRE -992 192 -1104 192
WIRE -880 192 -992 192
WIRE -736 192 -816 192
WIRE -528 192 -656 192
WIRE -400 192 -528 192
WIRE -160 192 -400 192
WIRE 96 240 96 112
WIRE 592 240 464 240
WIRE 704 240 592 240
WIRE 1024 240 928 240
WIRE -1664 256 -1664 192
WIRE -992 272 -992 192
WIRE 1024 272 1024 240
WIRE -528 304 -528 192
WIRE -400 304 -400 192
WIRE 592 336 592 240
WIRE 1024 368 1024 336
WIRE -528 432 -528 368
WIRE -400 432 -400 384
WIRE -400 432 -528 432
WIRE -96 432 -96 240
WIRE 96 432 96 304
WIRE 96 432 -96 432
WIRE 592 464 592 416
WIRE -1664 480 -1664 336
WIRE -992 480 -992 336
WIRE -528 480 -528 432
WIRE -96 480 -96 432
WIRE 592 592 592 544
WIRE 592 720 592 672
WIRE 592 864 592 800
WIRE 704 864 592 864
WIRE 1184 864 1184 176
WIRE 1184 864 704 864
WIRE 592 944 592 864
WIRE 704 944 704 864
WIRE 592 960 592 944
WIRE 592 1056 592 1008
WIRE 704 1056 704 1008
WIRE 704 1056 592 1056
WIRE 592 1088 592 1056
FLAG -1664 480 0
FLAG -992 480 0
FLAG -528 480 0
FLAG -96 480 0
FLAG -992 -160 0
FLAG -992 -416 vbatt
FLAG -96 -128 vbatt
FLAG 624 48 0
FLAG 1024 368 0
FLAG 592 1088 0
FLAG 464 240 vbatt
FLAG 1056 -160 vbatt
FLAG 1056 32 0
FLAG -1664 192 pickup-spark
FLAG -528 192 leaky-charge-collector
FLAG 96 112 trigger
FLAG 704 864 pulse-timing
FLAG 448 -528 vbatt
FLAG 736 -192 0
FLAG -992 192 ltd-voltage
FLAG 944 -368 OUT
SYMBOL res -1088 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName HV-resistor
SYMATTR Value 100
SYMBOL res -640 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 47k
SYMBOL res -416 288 R0
SYMATTR InstName R3
SYMATTR Value 220k
SYMBOL res -112 -32 R0
SYMATTR InstName R4
SYMATTR Value 100k
SYMBOL diode -880 208 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N4007
SYMBOL cap -544 304 R0
SYMATTR InstName C1
SYMATTR Value 2.2n
SYMBOL npn -160 144 R0
SYMATTR InstName Q1
SYMATTR Value 2N2222
SYMBOL cap 80 240 R0
SYMATTR InstName C2
SYMATTR Value 2.2n
SYMBOL voltage -1664 240 R0
WINDOW 3 24 152 Left 2
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 10 0 100u 100u 1u 202u 10)
SYMATTR InstName Parasitic-pickup-spark-plug-wire
SYMBOL zener -976 336 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value TDZV6_2
SYMBOL voltage -992 -352 R0
SYMATTR InstName batt
SYMATTR Value 14.4v
SYMBOL Misc\\NE555 816 144 R0
SYMATTR InstName U1
SYMBOL cap 1008 272 R0
SYMATTR InstName C3
SYMATTR Value 47n
SYMBOL res 576 320 R0
SYMATTR InstName R1
SYMATTR Value 22k
SYMBOL res 576 448 R0
SYMATTR InstName R5
SYMATTR Value 100k
SYMBOL res 576 704 R0
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL res 576 576 R0
SYMATTR InstName POTMETER-10K
SYMATTR Value 3k
SYMBOL cap 576 944 R0
SYMATTR InstName C4
SYMATTR Value 22n
SYMBOL cap 688 944 R0
SYMATTR InstName C5
SYMATTR Value 22n
SYMBOL cap 1040 -80 R0
SYMATTR InstName C6
SYMATTR Value 100n
SYMBOL res 432 -496 R0
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL res 672 -384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 22k
SYMBOL zener 752 -240 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value 1N750
SYMBOL res 896 -384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 100k
TEXT -1112 664 Left 2 ;Resistors determine timing of 555.\nThe pulse must be as long as possible (prevent spark noise from triggering again)\nbut short enough to allow capturing max RPM.\nHere, max RPM ~11.000rpm -> /60s/2revs = 10.9ms per spark event.\n \nChange resistors based on max RPM for your bike.
TEXT -1680 688 Left 2 !.tran 0 50ms 0 1e-5
TEXT -944 344 Left 2 ;6.2V Zener
TEXT 800 -264 Left 2 ;4.7V Zener
TEXT 728 440 Left 2 ;In real implementation the values \nof caps and resistors may be different\nto obtain right pulse length.\nI used R1 = 12k and set \nthe 10K potmeter to 1k.
